---
title: "R for data science"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


# ################################# Part 1. Explore ##########################

```{r}
install.packages("tidyverse")
library(tidyverse)
install.packages(c("nycflights13", "gapminder", "Lahman"))
```


# ###### 1. Data Visualization with ggplot2

```{r}
library(tidyverse)
mpg
```

```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy))
```

```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy, color = class))
```

```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy, size = class))
```

```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy, alpha = class))
```

```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy, shape = class))
```

```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy), color = "blue")
```

```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy)) + facet_wrap( ~ class, nrow = 2)
```

```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy)) + facet_grid(drv ~ cyl)
```

```{r}
ggplot(data = mpg) + geom_smooth(mapping = aes(x = displ, y = hwy))
```

```{r}
ggplot(data = mpg) + geom_smooth(mapping = aes(x = displ, y = hwy, linetype = drv))
```

```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy, color = drv)) + geom_smooth(mapping = aes(x = displ, y = hwy, linetype = drv, color = drv))
```

```{r}
ggplot(data = mpg) + geom_smooth(mapping = aes(displ, y = hwy))
```

```{r}
ggplot(data = mpg) + geom_smooth(mapping = aes(x = displ, y = hwy, group = drv))
```

```{r}
ggplot(data = mpg) + geom_smooth(mapping = aes(x = displ, y = hwy, color = drv), show.legend = FALSE)
```

```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy)) + geom_smooth(mapping = aes(x = displ, y = hwy))
```

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + geom_point() + geom_smooth()
```

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + geom_point(mapping = aes(color = class)) + geom_smooth()
```

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + geom_point(mapping = aes(color = class)) + geom_smooth(data = filter(mpg, class == "subcompact"), se = FALSE)
```

```{r}
ggplot(data = diamonds) + geom_bar(mapping = aes(x = cut))
```

```{r}
ggplot(data = diamonds) + stat_count(mapping = aes(x = cut))
```

```{r}
demo <- tribble(~a, ~b, 
                "bar_1", 20,
                "bar_2", 30,
                "bar_3", 40)
ggplot(data = demo) + geom_bar(mapping = aes(x = a, y = b), stat = 'identity')
```

```{r}
ggplot(data = diamonds) + geom_bar(mapping = aes(x = cut, y = ..prop.., group = 1))
```

```{r}
ggplot(data = diamonds) + stat_summary(mapping = aes(x = cut, y = depth), 
                                       fun.ymin = min, fun.ymax = max,
                                       fun.y = median)
```

```{r}
ggplot(data = diamonds) + geom_bar(mapping = aes(x = cut, color = cut))
```

```{r}
ggplot(data = diamonds) + geom_bar(mapping = aes(x = cut, fill = cut))
```

```{r}
ggplot(data = diamonds) + geom_bar(mapping = aes(x = cut, fill = clarity))
```

```{r}
ggplot(data = diamonds, mapping = aes(x = cut, fill = clarity)) + 
  geom_bar(alpha = 1/5, position = "identity")
```

```{r}
ggplot(data = diamonds, mapping = aes(x = cut, color = clarity)) + 
  geom_bar(fill = NA, position = "identity")
```

```{r}
ggplot(data = diamonds) + geom_bar(mapping = aes(x = cut, fill = clarity), position = "fill")
```

```{r}
ggplot(data = diamonds) + geom_bar(mapping = aes(x = cut, fill = clarity), position = "dodge")
```

```{r}
ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy), position = "jitter")
```

```{r}
ggplot(data = mpg, mapping = aes(x = class, y = hwy)) + geom_boxplot()
```

```{r}
ggplot(data = mpg, mapping = aes(x = class, y = hwy)) + geom_boxplot() + coord_flip()
```

```{r}
nz <- map_data("nz")
ggplot(nz, aes(long, lat, group = group)) + 
  geom_polygon(fill = "white", color = "black")
```

```{r}
ggplot(nz, aes(long, lat, group = group)) + 
  geom_polygon(fill = "white", color = "black") + 
  coord_quickmap()
```

```{r}
bar <- ggplot(data = diamonds) + geom_bar(mapping = aes(x = cut, fill = cut),
                                          show.legend = FALSE,
                                          width = 1) + theme(aspect.ratio = 1) + labs(x = NULL, y = NULL)

bar + coord_flip()
bar + coord_polar()
```

# ###### 2. Workflow: Basic 
# ###### 3. Data transformation with dplyr 
# ###### 4. Workflow: Scripts 
# ###### 5. Exploratory data analysts
# ###### 6. Workflow: Projects 

```{r}

```

# ################################# Part 2. Wrangle ##########################

# ###### 7. Tibbles with tibble
# ###### 8. Data import with readr 
# ###### 9. Tidy data with tidyr 
# ###### 10. Relational data with dplyr 
# ###### 11. Strings with stringr 
# ###### 12. Factors with forcats 
# ###### 13. Dates and times with lubridate 

# ################################# Part 3. Program ##########################

# ###### 14. Pipes with magrittr 
# ###### 15. Functions 
# ###### 16. Vectors 
# ###### 17. Iteration with purrr

# ################################# Part 4. Model ##########################

# ###### 18. Model basics with modelr 
# ###### 19. Model building 
# ###### 20. Many models with purrr and broom


# ################################# Part 5. Communicate ######################

# ###### 21. R markdown 
# ###### 22. Graphics for communication with ggplot2 
# ###### 23. R markdown formats 
# ###### 24. R markdown workflow 



















